---
import  {flex, container, grid} from "../../styled-system/patterns"
import {css} from "../../styled-system/css"

const response  = await fetch('http://127.0.0.1:3333/all-blog')
                    .then((res) => res.json())
                    .catch((err) => console.error(err))
---

<div class={grid({ columns:'2',
                color:'white',
                justifyItems:'center',
                })}>   
    {response.map(item => (
        <a href={`/blog/${item.id}`} class={container({
            mx: '16.5%',
            py: '4%',
            my: '7%',
            bg: '#0E0E0E',
            borderWidth: 1,
            borderColor: '#2B334F',
            borderRadius: 'md',
            transition: 'all',
            transitionTimingFunction: 'ease-out',
            transitionDelay: '.2s',
            '& p':{
                transition: 'all',
                transitionTimingFunction: 'ease-out',
                transitionDelay: '.2s',
            },
            _hover:{
                borderWidth: 1.5,
                borderColor: '#72457B',
                '& p':{
                    color: '#EAE1E1'
                },
            }
            })}>
            <p class={css({
                mb: '5%',
                textAlign:'center',
                color: '#EAE1E1'
            })}>{item.updated_at}</p>
            <h2 class={css({fontSize:'26',
                            fontWeight:'600',
                            mb: '5%',
                            textAlign:'center'
                            })}>
                            {item.title}
            </h2>
            <p class={css({color:'#B0B0B0'})}>
                {item.preface}
            </p>
        </a>
    ))}
</div>
