---
import  {flex, container, grid, wrap} from "../../styled-system/patterns"
import {css} from "../../styled-system/css"

const response  = await fetch('http://127.0.0.1:3333/all-blog')
                    .then((res) => res.json())
                    .catch((err) => console.error(err))
---

<div class={grid({ columns:{sm:'1', md:'2'},
                color:'white',
                justifyItems:'center',
                })}>   
    {response.map(item => (
        <a href={`/blog/${item.id}`} class={container({
            ssms: {
                mx: '-10%'  
            },
            sms: {
                mx: '7%'  
            },
            sm: {
                mx: '15%'  
            },
            md :{
                mx: '5%',
            },
            lg: {
                mx: '12%'
            },
            'xl': {
                mx: '20%'
            },
            mx: '16.5%',
            py: '4%',
            my: '7%',
            bg: '#0E0E0E',
            borderWidth: 1,
            borderColor: '#2B334F',
            borderRadius: 'md',
            transition: 'all',
            transitionTimingFunction: 'ease-out',
            transitionDelay: '.2s',
            '& p':{
                transition: 'all',
                transitionTimingFunction: 'ease-out',
                transitionDelay: '.2s',
            },
            _hover:{
                borderWidth: 1.5,
                borderColor: '#72457B',
                '& p':{
                    color: '#EAE1E1'
                },
            }
            })}>
            <p class={css({
                mb: '5%',
                textAlign:'center',
                color: '#EAE1E1',
                sms: {
                    fontSize: '14' 
                },
                ssms: {
                    fontSize: '12' 
                },
            })}>{item.updated_at}</p>
            <h2 class={css({fontSize:'26',
                            fontWeight:'600',
                            mb: '5%',
                            textAlign:'center',
                            sms: {
                                fontSize: '24' 
                            },
                            ssms: {
                                fontSize: '22' 
                            },
                            })}>
                            {item.title}
            </h2>
            <p class={css({color:'#B0B0B0',
                            sms: {
                                fontSize: '14' 
                            },
                            ssms: {
                                fontSize: '12' 
                            },})}>
                {item.preface}
            </p>
        </a>
    ))}
</div>
