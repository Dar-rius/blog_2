---
import {css} from '../../styled-system/css'
import axios from 'axios'
import { marked } from 'marked';
import {urlServer} from "../utils.ts"

//props
const {data} = Astro.props

const response = await fetch(`${urlServer}${data}`)
            .then((res) => res.text())
            .catch((err) => console.error(err))

const content = marked.parse(response);

//style
const styleMD = css({ color:'white',
                    mt:'4.5%',
                    mx:{sms: '3%', lg:'20%', base:'1%' },
                    lineHeight: '1.7',
                    fontSize: '17.5',
                    sms:{fontSize: '15'},
                    '& h2, h3, h4':{
                        my: '4%',
                        fontWeight: 500
                    },
                    '& h2':{
                        fontSize:{base:25, sms:'29'}
                    },
                    '& h3':{
                        fontSize:{base:20, sms:'23'}
                    },
                    '& h4':{
                        fontSize:{base:16, sms:'19'}
                    },
                    '& img': {
                        display:'block',
                        marginLeft: 'auto',
                        marginRight: 'auto',
                        width:'90%',
                        mb: '5%'
                    },
                    '& a':{
                        color: '#DBDDDE',
                    },
                    '& p':{
                        color: 'black',
                        fontSize: '16.5',
                    }
                    })
---

<div class={styleMD}>
    <article set:html={content} />
</div>
