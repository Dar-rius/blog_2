---
import {css} from '../../../../styled-system/css'
import {center, flex} from '../../../../styled-system/patterns'
import Layout from '../../../layouts/Layout.astro'
import {request, response} from undici
import {useRef} from 'react'

// variable
const email = useRef(
const password = useRef()

const data = {
    email: email.current,
    password: password.current,
}

async function Submit(){
    await request(`http://localhost:3333/json`,
    { method: 'POST', headers: { 'content-type': 'application/json' }, body: JSON.stringify({data}) }
  )  
}

// styles
const styleContainer = flex({
        direction: 'column',
        mx: '35%',
        alignItems: 'flex-start',
        my: '3%'
        })

const styleLabel = css({
        fontSize: 21,
        mb: 2
        })
---

<Layout>
    <center class={css({mb: '9.5%'})}>
    <h2 class={css({
            fontWeight: '500',
            mt: '3%'
            })}> 
            Sign in
        </h2>

        <form>
            <div class={styleContainer}>
                <label class={styleLabel}>Adress mail</label>
                <input placeholder="Enter your email"
                        type="email"
                        onChange={
                            (e) => (email.current = e.target.value)
                        }/>
            </div>
            <div class={styleContainer}>
                <label class={styleLabel}>Password</label>
                <input placeholder="Enter your password"
                        type="password"
                        onChange={
                            (e) => (password.current = e.target.value)
                        }/>
            </div>
            <button>
                Sign in
            </button>
        </form>
    </center>
</Layout>
